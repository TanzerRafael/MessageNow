<nav class="navigation">
  <mat-toolbar color="primary">
    <span>{{ title }}</span>
    <span style="flex: 1 1 auto;"></span>
    <mat-menu #appMenu="matMenu">
      <button mat-menu-item (click)="switchTheme()">Switch Theme</button>
      <button mat-menu-item (click)="logoutUser()" *ngIf="getState() !== 'LOGIN'">Logout</button>
    </mat-menu>

    <button mat-icon-button [matMenuTriggerFor]="appMenu">
      <mat-icon>more_vert</mat-icon>
    </button>
    <!--<mat-slide-toggle (change)="switchTheme()" [color]="color" [(ngModel)]="darkMode"></mat-slide-toggle>
    <div >
      <button class="mn-button" style="color: white;" (click)="logoutUser()" *ngIf="getState() !== 'LOGIN'">Logout</button>
    </div>-->
  </mat-toolbar>
  <mat-progress-bar mode="determinate" [value]="getProgress()"></mat-progress-bar>
</nav>

<app-login *ngIf="getState() === 'LOGIN'" (finished)="loginUser($event)">
  loading...
</app-login>
<app-selectgroup *ngIf="getState() === 'GROUP'" [user]="getUser()" (chosen)="startChat($event)" (logout)="logoutUser()">
  loading...
</app-selectgroup>
<app-chat *ngIf="getState() === 'CHAT'" [group]="selectedGroup" [user]="getUser()" (chooseGroup)="chooseGroup()">
  loading...
</app-chat>
